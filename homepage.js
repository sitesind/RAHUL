
var sailBoat = 
[
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/c2386af9-4349-432f-8ba5-2b6aa06025c8_600x.png?v=1642405569",
      name: "Airdopes 131",
      fullName: "boAt Airdopes 131 | Wireless Earbuds with upto 15 Hours Playback, 13mm Drivers and IWP Technology, 650mah C type Charging Case",
      category: "WIRELESS EARBUDS",
      aboutIter: "Sleek. Comfortable. Stylish. And a Splash of Incredible Colours. Bring alive your favourite sounds with these true wireless earbuds Equipped with 13mm drivers for the magical boAt signature sound. Designed for supreme ease with Insta Wake N’ Pair technology that auto connects the moment it’s out of the case and Type C Charging. Tws earbuds to drown all the sounds you don’t need and live every moment. With a battery capacity of 40mAh for each earbud, indulge in a blissful audio experience for up to 3 hours in a go. Tap into instant wireless functionality with optimum Bluetooth V5.0",
      img1: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/cream_72x.png?v=1642405569",
      img2: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD131TypeC_37968676-3283-4a82-aec8-7260bd2825f6_72x.jpg?v=1655462913",
      img3: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD131IWP_d27215b9-5b2c-43b4-b61d-72d9961456a2_72x.jpg?v=1655462913",
      img4:"https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD1314XCharge_5388947b-853f-4955-a969-f74753c9bb37_72x.jpg?v=1655462913",
      color1: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/cream_72x.png?v=1642405569",
      color2: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/viper-green_72x.png?v=1642405569",
      review:"4.8 | 1186 reviews",
      price: 899,
      strikedoffprice:  2990,
      
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/wave-call-3_300x.png?v=1658295343",
      name: "Wave Call ",
      review:"4.9 | 16 reviewss",
      price: 1799,
      strikedoffprice: 7990,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/1be19528-6d06-4cab-8815-02618b93d3c9_300x.png?v=1625045854",
      name: "Rockerz 260 ",
      review:"4.7 | 125 reviews",
      price: 799,
      strikedoffprice: 1799,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/main_blue_759e7ad4-18af-4407-9e8a-91c0058b1a74_300x.png?v=1648108782",
      name: "Wave Light Smartwatch",
      review:"4.7 | 250 reviews",
      price: 1299,
      strikedoffprice: 5691,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/1be19528-6d06-4cab-8815-02618b93d3c9_300x.png?v=1625045854",
      name: "Rockerz 255 Pro",
      review:"4.8 | 330 reviews",
      price: 999,
      strikedoffprice: 2550,
    }
    
];
var bestSeller = 
[
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/airdopes-121-v2-blue_600x.png?v=1612765376dn.shopify.com/https://cdn.shopify.com/s/files/1/0057/8938/4802/products/airdopes-121-v2-blue_600x.png?v=1612765376/files/1/0057/8938/4802/products/c2386af9-4349-432f-8ba5-2b6aa06025c8_600x.png?v=1642405569",
      name: "Airdopes 121 v2",
      fullName: "boAt Airdopes 131 | Wireless Earbuds with upto 15 Hours Playback, 13mm Drivers and IWP Technology, 650mah C type Charging Case",
      category: "WIRELESS EARBUDS",
      aboutIter: "Sleek. Comfortable. Stylish. And a Splash of Incredible Colours. Bring alive your favourite sounds with these true wireless earbuds Equipped with 13mm drivers for the magical boAt signature sound. Designed for supreme ease with Insta Wake N’ Pair technology that auto connects the moment it’s out of the case and Type C Charging. Tws earbuds to drown all the sounds you don’t need and live every moment. With a battery capacity of 40mAh for each earbud, indulge in a blissful audio experience for up to 3 hours in a go. Tap into instant wireless functionality with optimum Bluetooth V5.0",
      img1: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/cream_72x.png?v=1642405569",
      img2: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD131TypeC_37968676-3283-4a82-aec8-7260bd2825f6_72x.jpg?v=1655462913",
      img3: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD131IWP_d27215b9-5b2c-43b4-b61d-72d9961456a2_72x.jpg?v=1655462913",
      img4:"https://cdn.shopify.com/s/files/1/0057/8938/4802/products/ad131FIAD1314XCharge_5388947b-853f-4955-a969-f74753c9bb37_72x.jpg?v=1655462913",
      color1: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/cream_72x.png?v=1642405569",
      color2: "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/viper-green_72x.png?v=1642405569",
      review:"4.8 | 116 reviews",
      price: 999,
      strikedoffprice:  2990,
      
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/R245v2-fi-2.4_300x.jpg?v=1655442439",
      name: "Rockerz 245 V2",
      review:"4.6 | 160 reviewss",
      price: 999,
      strikedoffprice: 2990,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/xtend_black_300x.png?v=1650387008",
      name: "boAt Watch Xtend‌",
      review:"4.7 | 225 reviews",
      price: 2699,
      strikedoffprice: 7999,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/white_300x.png?v=1657869596",
      name: "Airdopes 141",
      review:"4.8 | 1050 reviews",
      price: 1099,
      strikedoffprice: 4990,
    },
    {
      image_url:
        "https://cdn.shopify.com/s/files/1/0057/8938/4802/products/CMF.996_300x.png?v=1661155833",
      name: "Xtend Talk",
      review:"4.5 | 452 reviews",
      price: 3499,
      strikedoffprice: 6990,
    }
    
];
    
    // var a = document.createElement("h2")
    // a.innerText = "SAIL WITH boAt"
    // var parent = document.body
    // parent.insertChildAtIndex(a, 2)
    
  

  function displayData(){
    var keep = document.querySelector(".curser")
    keep.style.display = "grid";
    keep.style.background = "white";
    document.querySelector("body").addEventListener("mouseleave",removeData)
  }
  document.querySelector(".mouse").addEventListener("mouseover",displayData)
  
  function removeData(){
    var keep = document.querySelector(".curser")
    keep.style.display = "none";
  }
  document.querySelector("body").addEventListener("mouseleave",removeData)
  
  
    
  displaySail()

    function displaySail(){
        sailBoat.map(function(elem,i){
            var div = document.createElement("div")

            var image = document.createElement("img")
            image.setAttribute("src",elem.image_url)

            var name = document.createElement("h3")
            name.innerText = elem.name

            var review = document.createElement("p")
            review.innerHTML = '<i class="fa-solid fa-star"></i> '+ elem.review

            var price = document.createElement("h3")
            price.innerText = "₹ " + elem.price
            price.style.color = "red"

            var disc = document.createElement("p")

            var btn = document.createElement("button")
            btn.innerText = "ADD TO CART"

            btn.setAttribute("class","addtoCart")

            btn.addEventListener("click",function() { addtocart1(i) })

            var line = document.createElement("div")
            line.setAttribute("class","line")

            var btnDiv = document.createElement("div")
            btnDiv.append(btn)

            var stp = document.createElement("p")
            stp.innerText = elem.strikedoffprice

            var discount = ((+elem.strikedoffprice - +elem.price)/+elem.strikedoffprice)*100


            var save = document.createElement("p")
            save.innerText = "You save: ₹ "+ (+elem.strikedoffprice - +elem.price) + " ("+parseInt(discount)+"%)"
            save.setAttribute("class","save")

            var pDiv = document.createElement("div")
            pDiv.append(price,stp)

            pDiv.setAttribute("class","pDiv")

            var childDiv = document.createElement("div")
            childDiv.append(name,review,line,pDiv,save,btnDiv)

            div.append(image,childDiv)
            childDiv.setAttribute("id","childDiv")

            document.querySelector("#productSetup").append(div)
            div.setAttribute("id","sailBoat")
        })
    }

    displayBest()

    function displayBest(){
        bestSeller.map(function(elem,i){
            var div = document.createElement("div")

            var image = document.createElement("img")
            image.setAttribute("src",elem.image_url)

            var name = document.createElement("h3")
            name.innerText = elem.name

            var review = document.createElement("p")
            review.innerHTML = '<i class="fa-solid fa-star"></i> '+ elem.review

            var price = document.createElement("h3")
            price.innerText = "₹ " + elem.price
            price.style.color = "red"

            var disc = document.createElement("p")

            var btn = document.createElement("button")
            btn.innerText = "ADD TO CART"

            btn.addEventListener("click",function() {addtocart1(i)})

            btn.setAttribute("class","addtoCart")

            var line = document.createElement("div")
            line.setAttribute("class","line")

            var btnDiv = document.createElement("div")
            btnDiv.append(btn)

            var stp = document.createElement("p")
            stp.innerText = elem.strikedoffprice

            var discount = ((+elem.strikedoffprice - +elem.price)/+elem.strikedoffprice)*100

            var save = document.createElement("p")
            save.innerText = "You save: ₹ "+ (+elem.strikedoffprice - +elem.price) + " ("+parseInt(discount)+"%)"
            save.setAttribute("class","save")

            var pDiv = document.createElement("div")
            pDiv.append(price,stp)

            pDiv.setAttribute("class","pDiv")

            var childDiv = document.createElement("div")
            childDiv.append(name,review,line,pDiv,save,btnDiv)

            div.append(image,childDiv)
            childDiv.setAttribute("id","childDiv")

            document.querySelector("#bestSeller").append(div)
            div.setAttribute("id","sailBoat")
        })
    }

    var cartItems = JSON.parse(localStorage.getItem("cart")) || []
    var items =  cartItems.length
    console.log(items)
    if(items>0){
      document.querySelector(".nitems").innerText = items
    }

    var cartProducts = JSON.parse(localStorage.getItem("cart")) || []
        
    function addtocart1(index){
        event.preventDefault()
        alert("This Product is added to Cart")
        var flag = 0
        var ind  = 0
        var prod = sailBoat.filter(function(elem,i){
            return i == index
        })
        var cartp = cartProducts.filter(function(elem,i){
            if(elem.name === prod[0].name){
                flag = 1
                ind = i
            }
        })
        if(flag == 0){
            prod[0].qty = 1
            cartProducts.push(prod[0])
        }
        else{
            cartProducts[ind].qty++
            flag = 0
        }
        
        localStorage.setItem("cart",JSON.stringify(cartProducts))
        console.log(cartProducts)

        var cartItems = JSON.parse(localStorage.getItem("cart")) || []
        var items =  cartItems.length
        console.log(items)
        if(items>0){
        document.querySelector(".nitems").innerText = items
        }
    }

    function addtocart1(index){
      event.preventDefault()
      alert("This Product is added to Cart")
      var flag = 0
      var ind  = 0
      var prod = bestSeller.filter(function(elem,i){
          return i == index
      })
      var cartp = cartProducts.filter(function(elem,i){
          if(elem.name === prod[0].name){
              flag = 1
              ind = i
          }
      })
      if(flag == 0){
          prod[0].qty = 1
          cartProducts.push(prod[0])
      }
      else{
          cartProducts[ind].qty++
          flag = 0
      }
      
      localStorage.setItem("cart",JSON.stringify(cartProducts))
      console.log(cartProducts)

      var cartItems = JSON.parse(localStorage.getItem("cart")) || []
      var items =  cartItems.length
      console.log(items)
      if(items>0){
      document.querySelector(".nitems").innerText = items
      }
  }
    

  
  const sliders = document.querySelectorAll(".slider");
  // interval between switching images
  // can't be less than your animation duration in css!
  const interval = 5800;
  // if you don't want to first animation last longer than other animations  
  // set animDuration (in miliseconds) to your value of animation duration in css
  const animDuration = 600;

  for (let i = 0; i < sliders.length; ++i) {
    const slider = sliders[i];
    const dots = slider.querySelector(".dots");
    const sliderImgs = slider.querySelectorAll(".img");

    let currImg = 0;
    let prevImg = sliderImgs.length - 1;
    let intrvl;
    let timeout;

    // Creates dots and add listeners to them
    for (let i = 0; i < sliderImgs.length; ++i) {
      const dot = document.createElement("div");
      dot.classList.add("dot");
      dots.appendChild(dot);
      dot.addEventListener("click", dotClick.bind(null, i), false);
    }

    const allDots = dots.querySelectorAll(".dot");
    allDots[0].classList.add("active-dot");

    sliderImgs[0].style.left = "0";
    timeout = setTimeout(() => {
      animateSlider();
      sliderImgs[0].style.left = "";
      intrvl = setInterval(animateSlider, interval);
    }, interval - animDuration);   

    /**
     * Animates images
     * @param {number} [nextImg] - index of next image to show
     * @param {boolean} [right = false] - animate to right
     */
    function animateSlider(nextImg, right) {
      if (!nextImg)
        nextImg = currImg + 1 < sliderImgs.length ? currImg + 2 : 1;

      --nextImg;
      sliderImgs[prevImg].style.animationName = "";

      if (!right) {
        sliderImgs[nextImg].style.animationName = "leftNext";
        sliderImgs[currImg].style.animationName = "leftCurr";
      } 
      else {
        sliderImgs[nextImg].style.animationName = "rightNext";
        sliderImgs[currImg].style.animationName = "rightCurr";
      }

      prevImg = currImg;
      currImg = nextImg;

      currDot = allDots[currImg];
      currDot.classList.add("active-dot");
      prevDot = allDots[prevImg];
      prevDot.classList.remove("active-dot");
    }

    /**
     * Decides if animate to left or right and highlights clicked dot
     * @param {number} num - index of clicked dot
     */
    function dotClick(num) {
      if (num == currImg)
        return false;

      clearTimeout(timeout);
      clearInterval(intrvl);

      if (num > currImg)
        animateSlider(num + 1);
      else
        animateSlider(num + 1, true);

      intrvl = setInterval(animateSlider, interval);
    }
  }

  document.querySelector(".logo").setAttribute("href","homepage.html")

  // function homepage(){
  //   document.createElement
  // }